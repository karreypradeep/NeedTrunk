<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:p="http://primefaces.org/ui"
	xmlns:biz="http://java.sun.com/jsf/composite/apeironsol-components">

	<p:panel style="margin-top:1px;border:0px">
		<p:toolbar>
			<p:toolbarGroup align="left" style="margin-top:5px;margin-left:2px;">
				<h:outputText value="Notifications" style="font-size:15x;" />
			</p:toolbarGroup>
		</p:toolbar>
		<p:spacer height="20"></p:spacer>

		<p:dataTable id="grading_system_range_datatable" var="reportCardExam" value="#{reportCardBean.reportCardExams}"
			style="margin-top:1px;">

			<p:column headerText="Exam">
				<center>
					<p:selectOneMenu id="exam" value="#{reportCardExam.exam}" converter="examConverter">
						<f:selectItem itemLabel="Select exam" itemValue="" />
						<f:selectItems value="#{reportCardBean.exams}" var="exam" itemLabel="#{exam.name}" itemValue="#{exam}" />
						<p:ajax process="@this" update="@this"></p:ajax>
					</p:selectOneMenu>
				</center>
			</p:column>

			<p:column headerText="Percentage">
				<center>
					<p:inputText id="maximum_percentage" value="#{reportCardExam.percentage}" size="20" maxlength="20">
						<p:ajax process="@this" update="@this"></p:ajax>
						<f:convertNumber pattern="00" />
					</p:inputText>
				</center>
			</p:column>

			<p:column headerText="#{msg.options}" styleClass="options-column">
				<p:commandLink id="deleteButton" styleClass="ui-icon ui-icon-trash" style="margin:0px 0px 0px;float:right;"
					title="Delete" process="@this" onclick="confirmation.show()"
					disabled="#{!grantedAuthorityBean.userAllowedToRemoveReportCard}">
					<f:setPropertyActionListener value="#{reportCardExam}" target="#{reportCardBean.currentReportCardExam}" />
				</p:commandLink>
			</p:column>

		</p:dataTable>
		<p:commandButton id="add_range" value="Add new range" action="#{reportCardBean.addReportCardExam()}" immediate="true"
			update="@form">
			<f:setPropertyActionListener target="#{reportCardBean.viewOrNewAction}" value="true" />
		</p:commandButton>

		<p:confirmDialog id="confirmDialog" message="Are you want to delete the Report Card Exam" header="Confirmation"
			severity="alert" widgetVar="confirmation">
			<p:commandButton id="confirm" value="Yes Sure" update="@form" process="@this" oncomplete="confirmation.hide()"
				action="#{reportCardBean.removeReportCardExam}" />
			<p:commandButton id="decline" value="Not Yet" onclick="confirmation.hide()" type="button" />
		</p:confirmDialog>
	</p:panel>
</ui:composition>