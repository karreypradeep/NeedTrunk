<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:p="http://primefaces.org/ui"
	xmlns:biz="http://java.sun.com/jsf/composite/apeironsol-components">

	<link type="text/css" rel="stylesheet" href="#{facesContext.externalContext.requestContextPath}/resources/css/student-profile.css" />

	<f:metadata>
		<f:event type="preRenderView" listener="#{studentPortalBean.init()}" />
		<f:event type="preRenderView" listener="#{studentPortalBean.loadProfilePicture}" />
	</f:metadata>

	<h:panelGrid columns="2" columnClasses="column-vertical-align,profile-right-column" style="width:100%">

		<p:panel id="studentProfilePanel" style="border:0px;padding: 0px;margin: 0px;">

			<p:panel id="personalDetailsPanel" header="Personal Details" style="border:0px;">
				<h:panelGrid columns="2" cellpadding="10">
					<p:outputLabel value="#{msg.firstName}" style="font-weight:bold" for="firstName" />
					<h:outputText id="firstName" value="#{studentBean.student.firstName}" />

					<p:outputLabel value="#{msg.middleName}" style="font-weight:bold" for="middleName" />
					<h:outputText id="middleName" value="#{studentBean.student.middleName}" />

					<p:outputLabel value="#{msg.firstName}" style="font-weight:bold" for="lastName" />
					<h:outputText id="lastName" value="#{studentBean.student.lastName}" />

					<p:outputLabel value="#{msg.dob}" style="font-weight:bold" for="dob" />
					<h:outputText id="dob" value="#{studentBean.student.dateOfBirth}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>

					<p:outputLabel value="#{msg.gender}" style="font-weight:bold" for="gender" />
					<h:outputText id="gender" value="#{studentBean.student.gender}" />

					<p:outputLabel value="#{msg.class}" style="font-weight:bold" for="klassName" />
					<h:outputText id="klassName" value="#{studentBean.studentSection.section.klass.name}" />

					<p:outputLabel value="#{msg.section}" style="font-weight:bold" for="sectionName" />
					<h:outputText id="sectionName" value="#{studentBean.studentSection.section.name}" />

				</h:panelGrid>
			</p:panel>

			<p:panel id="addressDetailsPanel" header="Address Details" style="border:0px;">
				<h:panelGrid columns="2" cellpadding="10">
					<h:outputLabel value="#{msg.address}" style="font-weight:bold" />
					<h:outputText value="#{studentBean.student.address.address}" />

					<h:outputLabel value="#{msg.city}" style="font-weight:bold" />
					<h:outputText value="#{studentBean.student.address.city}" />

					<h:outputLabel value="#{msg.country}" style="font-weight:bold" />
					<h:outputText value="#{studentBean.student.address.country.name}" />

					<h:outputLabel value="#{msg.state}" style="font-weight:bold" />
					<h:outputText value="#{studentBean.student.address.state}" />

					<h:outputLabel value="#{msg.pincode}" style="font-weight:bold" />
					<h:outputText value="#{studentBean.student.address.zipCode}" />

					<h:outputLabel value="#{msg.homePhone}" style="font-weight:bold" />
					<h:outputText value="#{studentBean.student.address.homePhoneNr}" />

					<h:outputLabel value="#{msg.mobilePhone}" style="font-weight:bold" />
					<h:outputText value="#{studentBean.student.address.mobileNr}" />

					<h:outputLabel value="#{msg.emailId}" style="font-weight:bold" />
					<h:outputText value="#{studentBean.student.address.email}" />
				</h:panelGrid>
			</p:panel>

		</p:panel>

		<p:panel style="border:0px;padding: 0px;margin: 0px;">


			<div id="photo" class="photo-outer"
				onmouseover="uploadphoto.className='link-position link-style';takephoto.className='link-position link-style'"
				onmouseout="uploadphoto.className='link-position link-style link-hide';takephoto.className='link-position link-style link-hide'">

				<div class="photo-border" style="width: 250px; height: 250px;" id="profile_photo">
					<div class="photo">
						<p:graphicImage value="#{studentPortalBean.profilePictureStreamedContent}" width="250" height="250"
							onmouseover="this.class.name='ZAa cz'" />
					</div>
				</div>
				<div style="-webkit-user-select: none;">
					<div id="uploadphoto" class="link-position link-style link-hide" style="margin-top: -30px;">
						<p:commandLink value="Change photo" onclick="takephotoPanel.show()" process="@this" />
					</div>
				</div>
			</div>
			<div class="Oka b1">
				<div class="lc l-y4">
					<div class="KC">
						<div class="Tta  l-rHa ">
							<div class="Vta a-f-e">
								<div class="Uta UCa a-f-e"></div>
							</div>
							<div class="a-f-e pga">
								Current status : <b>#{studentBean.student.studentStatus.label}</b>
							</div>
						</div>
						<c:if test="#{studentBean.student.studentStatus == 'ACTIVE'}">
							<div class="Tta  l-uHa ">
								<div class="Vta a-f-e">
									<div class="Uta aDa a-f-e"></div>
								</div>
								<div class="a-f-e pga">
									Status today : <b>#{studentBean.studentTodayAttandanceStatus}</b>
								</div>
							</div>
						</c:if>
					</div>
				</div>
			</div>
		</p:panel>

	</h:panelGrid>
</ui:composition>